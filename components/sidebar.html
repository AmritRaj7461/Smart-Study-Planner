<style>
  :root {
    --sidebar-width: 280px;
    --sidebar-collapsed-width: 88px;
    --accent-glow: rgba(99, 102, 241, 0.4);
  }

  body.sidebar-collapsed {
    --sidebar-width: var(--sidebar-collapsed-width);
  }

  /* --- FIXED POSITIONING FIX --- */
  aside.sidebar {
    position: fixed;
    /* DETACHES FROM FLOW TO OVERRIDE CARDS */
    left: 0;
    top: 0;
    width: var(--sidebar-width);
    height: 100vh;
    flex-shrink: 0;
    transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    flex-direction: column;
    overflow: visible !important;
    /* ALLOWS TOOLTIPS TO POP OUT */
    z-index: 99999 !important;
    /* HIGHER THAN ALL GLASS CARDS */
  }

  .sidebar-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1.5rem;
    border-bottom: 1px solid rgba(0, 0, 0, 0.05);
  }

  body.sidebar-collapsed .sidebar-header {
    justify-content: center;
    padding: 1.5rem 0;
  }

  .sidebar-title {
    font-weight: 900;
    font-style: italic;
    text-transform: uppercase;
    letter-spacing: -0.05em;
  }

  body.sidebar-collapsed .sidebar-title {
    display: none;
  }

  /* --- NAV ITEMS --- */
  .nav-item {
    position: relative;
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 14px 22px;
    margin: 6px 12px;
    border-radius: 18px;
    font-weight: 800;
    font-size: 13px;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: #64748b;
    text-decoration: none;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    /* PREVENTS CLIPPING */
    overflow: visible !important;
  }

  .dark .nav-item {
    color: #94a3b8;
  }

  body.sidebar-collapsed .nav-item {
    justify-content: center;
    padding: 14px 0;
    margin: 6px 15px;
  }

  .nav-item:hover {
    background: rgba(99, 102, 241, 0.08);
    color: #4f46e5;
    transform: translateX(4px);
  }

  .nav-item.active {
    background: #4f46e5 !important;
    color: white !important;
    box-shadow: 0 10px 20px -5px rgba(79, 70, 229, 0.4);
  }

  /* --- TOOLTIP MASTER LAYER --- */
  .tooltip {
    position: absolute;
    left: 100%;
    top: 50%;
    transform: translateY(-50%);
    margin-left: 16px;
    background: #0f172a;
    color: white;
    padding: 8px 14px;
    border-radius: 12px;
    font-size: 10px;
    font-weight: 900;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    white-space: nowrap;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    /* THE HIGHEST LAYER IN THE SYSTEM */
    z-index: 100000 !important;
    pointer-events: none;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
  }

  .icon {
    font-size: 1.5rem;
    /* Increased from 1.3rem */
    min-width: 32px;
    /* Increased from 28px */
    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    filter: drop-shadow(0 0 2px rgba(0, 0, 0, 0.05));
  }

  .nav-item:hover .icon {
    transform: scale(1.2) translateY(-2px);
    /* Slightly more aggressive scaling */
    filter: drop-shadow(0 0 10px var(--accent-glow));
  }

  body.sidebar-collapsed .nav-item {
    justify-content: center;
    padding: 14px 0;
    margin: 6px 12px;
  }

  body.sidebar-collapsed .nav-item:hover .tooltip {
    opacity: 1;
    visibility: visible;
    transform: translateY(-50%) translateX(10px);
  }

  body.sidebar-collapsed .label {
    display: none;
  }
</style>

<aside id="sidebar-el"
  class="sidebar bg-white/80 dark:bg-slate-900/90 backdrop-blur-xl border-r border-slate-200 dark:border-slate-800">
  <div class="sidebar-header">
    <span class="sidebar-title text-xl text-slate-900 dark:text-white">Nexus</span>
    <button id="toggleSidebar"
      class="p-2 rounded-xl text-slate-400 hover:bg-slate-100 dark:hover:bg-white/5 transition-all focus:outline-none">
      <svg id="toggleIcon" xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
        <line x1="3" y1="12" x2="21" y2="12"></line>
        <line x1="3" y1="6" x2="21" y2="6"></line>
        <line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </button>
  </div>

  <nav class="mt-6 flex flex-col gap-2 px-3">
    <a href="../index.html" class="nav-item">
      <span class="icon">üèõÔ∏è</span><span class="label">DASHBOARD</span><span class="tooltip">dASHBOARD</span>
    </a>
    <a href="../pages/subjects.html" class="nav-item">
      <span class="icon">üìñ</span><span class="label">SUBJECTS</span><span class="tooltip">SUBJECTS</span>
    </a>
    <a href="../pages/schedule.html" class="nav-item">
      <span class="icon">üìÖ</span><span class="label">SCHEDULE</span><span class="tooltip">SCHEDULE</span>
    </a>
    <a href="../pages/tasks.html" class="nav-item">
      <span class="icon">üìù</span><span class="label">TASK</span><span class="tooltip">TASK</span>
    </a>
    <a href="../pages/analytics.html" class="nav-item">
      <span class="icon">üìà</span><span class="label">ANALYTICS</span><span class="tooltip">ANALYTICS</span>
    </a>
    <a href="../pages/settings.html" class="nav-item">
      <span class="icon">‚öôÔ∏è</span><span class="label">SETTINGS</span><span class="tooltip">SETTINGS</span>
    </a>
  </nav>
</aside>